<!DOCTYPE html>
<html lang="en">
<head>
        <style>
            .picked-date {
                background: #4caf50 !important;
                color: #fff !important;
                border-radius: 50% !important;
            }
        </style>
    <!-- flatpickr CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <!-- flatpickr JS -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Squash League</title>
    <!-- Firebase App (the core Firebase SDK) -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <!-- If you want analytics, include this -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics-compat.js"></script>
    <!-- Add other Firebase SDKs as needed (e.g., firestore, auth) -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <!-- Firebase Auth SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
</head>
<body>
    <h1>Squash League Registration</h1>
    <div id="auth-status">Not logged in.</div>
    <form id="registration-form">
        <p>Register with your email and password:</p>
        <label>Email: <input type="email" id="reg-email" required></label><br>
        <label>Password: <input type="password" id="reg-password" required></label><br><br>
        <button type="submit">Register</button>
    </form>
    <div id="registration-result"></div>

    <form id="login-form">
        <p>Already have an account? Log in:</p>
        <label>Email: <input type="email" id="login-email" required></label><br>
        <label>Password: <input type="password" id="login-password" required></label><br><br>
        <button type="submit">Login</button>
    </form>
    <div id="login-result"></div>
    <button id="logout-btn" style="display:none;">Logout</button>

    <h2 id="availability-form-header">Enter Your Weekly Availability</h2>
    <form id="availability-form">
    <p>Select the dates you are available to play squash:</p>
    <input id="available-dates" name="available-dates" placeholder="Select dates..." readonly>
    <br><br>
    <button type="submit">Submit Availability</button>
    </form>
    <div id="result"></div>
    <!-- App logic and Firebase initialization -->
    <script src="firebase.js"></script>
    <script src="auth.js"></script>
</body>
<script>
        // Initialize flatpickr for multiple date selection with date limits
        document.addEventListener('DOMContentLoaded', function() {
            const today = new Date();
            const tomorrow = new Date(today);
            tomorrow.setDate(today.getDate() + 1);
            const maxDate = new Date(today);
            maxDate.setDate(today.getDate() + 30);
            flatpickr("#available-dates", {
                mode: "multiple",
                dateFormat: "Y-m-d",
                minDate: tomorrow,
                maxDate: maxDate
            });
        });
</script>
</body>
</html>